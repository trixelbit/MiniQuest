(()=>{"use strict";var e={177:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerMovement=void 0;const n=s(603);t.PlayerMovement=class{constructor(e,t,s){this._velocity=n.Vector2.Zero(),this._input=n.Vector2.Zero(),this.DRAG_COEFFICIENT=.05,this._inputSystem=t,this._element=e,this._maxSpeed=s}Start(){}Update(){this._input=this.ProcessInput(),this.SetVelocity(this._input),console.log(this._input),this._velocity=n.Vector2.Lerp(this._velocity,n.Vector2.Zero(),this.DRAG_COEFFICIENT);const e=parseFloat(this._element.style.left)||0,t=parseFloat(this._element.style.top)||0,s=e+this._velocity.x*this._maxSpeed,o=t+this._velocity.y*this._maxSpeed;this._element.style.left=s+"px",this._element.style.top=o+"px"}SetVelocity(e){this._velocity=e,this._velocity.Scale(this._maxSpeed)}ProcessInput(){var e=0,t=0;return this._inputSystem.IsKeyDown("ArrowLeft")&&(e-=1),this._inputSystem.IsKeyDown("ArrowRight")&&(e+=1),this._inputSystem.IsKeyDown("ArrowUp")&&(t-=1),this._inputSystem.IsKeyDown("ArrowDown")&&(t+=1),new n.Vector2(e,t)}}},38:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Entity=void 0,t.Entity=class{constructor(e,t=[]){this._element=document.createElement("img"),this._element.style.position="absolute",this._element.id=e,this._element.src="",document.body.appendChild(this._element),this._components=t}AddComponent(e){this._components.push(e)}Start(){for(const e of this._components)e.Start()}Update(){for(const e of this._components)e.Update()}}},983:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Player=void 0;const n=s(177),o=s(38);class i extends o.Entity{constructor(e){super("Player"),this._element.src="Images/idle_up.png",this.AddComponent(new n.PlayerMovement(this._element,e,2))}}t.Player=i},154:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InputSystem=void 0,t.InputSystem=class{constructor(){this._downKeys=new Map,this._pressedKeys=new Map,this._releasedKeys=new Map,document.addEventListener("DOMContentLoaded",(()=>{document.addEventListener("keydown",(e=>{console.log(e.key+" pressed."),this._downKeys.set(e.key,!0),this._pressedKeys.set(e.key,!0),this._releasedKeys.set(e.key,!1)})),document.addEventListener("keyup",(e=>{this._downKeys.set(e.key,!1),this._pressedKeys.set(e.key,!1),this._releasedKeys.set(e.key,!0)}))}))}IsKeyDown(e){if(!this._downKeys.has(e))return!1;const t=this._downKeys.get(e);return void 0!==t&&t}IsKeyPressed(e){if(!this._pressedKeys.has(e))return!1;const t=this._pressedKeys.get(e);return void 0!==t&&t}IsKeyReleased(e){if(!this._releasedKeys.has(e))return!1;const t=this._releasedKeys.get(e);return void 0!==t&&t}ResetReleasedKeys(){for(var e in this._releasedKeys)this._releasedKeys.set(e,!1)}}},912:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Math=void 0,t.Math=class{static Lerp(e,t,s){return e+(t-e)*s}}},603:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vector2=void 0;const n=s(912);class o{constructor(e,t){this.x=e,this.y=t}Scale(e){this.x*=e,this.y*=e}static Lerp(e,t,s){return new o(n.Math.Lerp(e.x,t.x,s),n.Math.Lerp(e.y,t.y,s))}static Zero(){return new o(0,0)}}t.Vector2=o},607:function(e,t,s){var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(o,i){function r(e){try{a(n.next(e))}catch(e){i(e)}}function c(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,c)}a((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=s(154),i=s(983),r=new o.InputSystem;document.addEventListener("DOMContentLoaded",(()=>{!function(e,t){n(this,void 0,void 0,(function*(){for(;;)e.Start(),yield new Promise((e=>setTimeout(e,10))),e.Update(),t.ResetReleasedKeys()}))}(new i.Player(r),r)}))}},t={};!function s(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,s),i.exports}(607)})();